(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"0168":function(e,t,n){},"05da":function(e,t,n){},1022:function(e,t,n){"use strict";var s=n("0168"),i=n.n(s);i.a},"232a":function(e,t,n){"use strict";var s=n("899b"),i=n.n(s);i.a},"23e5":function(e,t,n){},2648:function(e,t,n){},3276:function(e,t,n){"use strict";var s=n("2648"),i=n.n(s);i.a},"468b":function(e,t,n){"use strict";var s=n("05da"),i=n.n(s);i.a},4793:function(e,t,n){"use strict";var s=n("7323"),i=n.n(s);i.a},7323:function(e,t,n){},"899b":function(e,t,n){},"93e8":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("q-page",{attrs:{padding:"",id:"ca_container"}},[e.loadPage===e.LOAD_PAGE.FIRST_PAGE?n("firstPageComponent"):e._e(),e.loadPage===e.LOAD_PAGE.FORM_PAGE?n("mainFormComponent"):e._e(),e.loadPage===e.LOAD_PAGE.FAILED_PAGE?n("messageComponent",{attrs:{message:e.failedMessage}}):e._e(),e.loadPage===e.LOAD_PAGE.FINISH_PAGE?n("feedbackFinishMessage",{attrs:{message:e.finishPage}}):e._e()],1)},i=[],a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"__ca_form_main-fields-component"},[n("q-form",{ref:"formFeedback"},[e._l(e.fields,(function(e,t){return n("div",{key:e.label,staticClass:"q-mt-sm"},[n("mainFieldsComponent",{attrs:{field:e,index:t}})],1)})),e.submitMessage?n("div",{staticClass:"text-negative text-body1 q-pa-sm"},[e._v("\n      "+e._s(e.submitMessage)+"\n    ")]):e._e(),n("q-btn",{staticClass:"full-width q-mt-sm",attrs:{color:"primary",label:e.$t("submit")},on:{click:e.sendform}})],2)],1)},r=[],l=(n("7f7f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"__ca_form_main-fields-component"},[e.field.type===e.FIELD_CATEGORIES_TYPE.TEXTBOX?n("textboxComponent",{attrs:{index:e.index,field:e.field}}):e._e(),e.field.type===e.FIELD_CATEGORIES_TYPE.TEXTAREA?n("textareaComponent",{attrs:{index:e.index,field:e.field}}):e._e(),e.field.type===e.FIELD_CATEGORIES_TYPE.COMBOBOX?n("selectComponent",{attrs:{index:e.index,field:e.field}}):e._e(),e.field.type===e.FIELD_CATEGORIES_TYPE.CHECKBOX?n("checkboxComponent",{attrs:{index:e.index,field:e.field}}):e._e(),e.field.type===e.FIELD_CATEGORIES_TYPE.RADIOBUTTON?n("radioboxComponent",{attrs:{index:e.index,field:e.field}}):e._e()],1)}),o=[],u=(n("c5f6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ca_form_field-textarea"},[n("div",{staticClass:"ca_form_field-textarea-label"},[e._v("\n    "+e._s(e.field.label)+" :\n  ")]),n("q-input",{attrs:{square:"",rules:e.rules,type:"textarea",outlined:"",dense:""},model:{value:e.fieldsValue,callback:function(t){e.fieldsValue=t},expression:"fieldsValue"}})],1)}),c=[],d=(n("a481"),n("4917"),{REQUIRED:function(e){return!!e},NUMERIC:function(e){return!!e.match(/^[0-9]+$/)},ALPHA_NUMERIC:function(e){return!!e.match(/^[0-9a-zA-Z]+$/)},ALPHA_NUMERIC_LINE:function(e){return!!e.match(/^[0-9a-zA-Z-_]+$/)},MIN_CHARACTER:function(e,t){return e.length>t},MIN_NUMBER:function(e,t){return e>t},MAX_CHARACTER:function(e,t){return e.length<t},MAX_NUMBER:function(e,t){return e<t},EMAIL:function(e){return!!e.match(/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/)}}),f=d,m={name:"field-textarea",props:{field:{type:Object},index:{type:Number}},computed:{fieldsValue:{set:function(e){var t=this.index;this.$store.commit("formsFeedbacksUrl/setFieldsValue",{value:e,index:t})},get:function(){return this.$store.state.formsFeedbacksUrl.fields[this.index].value}},rules:function(){var e=this,t=[];return!0===this.field.is_required&&t.push((function(t){return f.REQUIRED(t)||e.$i18n.t("required_message")})),this.field.max>0&&t.push((function(t){return f.MAX_CHARACTER(t,e.field.max)||e.$i18n.t("maximum_message").replace("{value}",e.field.max)})),this.field.min>0&&t.push((function(t){return f.MIN_CHARACTER(t,e.field.min)||e.$i18n.t("minimum_message").replace("{value}",e.field.min)})),t}},mounted:function(){}},_=m,p=(n("1022"),n("2877")),h=n("27f9"),b=n("eebe"),E=n.n(b),v=Object(p["a"])(_,u,c,!1,null,"9426b248",null),x=v.exports;E()(v,"components",{QInput:h["a"]});var g=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ca_form_field-textbox"},[n("div",{staticClass:"ca_form_field-textbox-label"},[e._v("\n    "+e._s(e.field.label)+" :\n  ")]),n("q-input",{attrs:{square:"",rules:e.rules,type:e.fieldType,outlined:"",dense:""},model:{value:e.fieldsValue,callback:function(t){e.fieldsValue=t},expression:"fieldsValue"}})],1)},A=[],F={name:"field-textbox",props:{field:{type:Object},index:{type:Number}},computed:{fieldType:function(){return this.field.is_numberic?"number":"text"},fieldsValue:{set:function(e){var t=this.index;this.$store.commit("formsFeedbacksUrl/setFieldsValue",{value:e,index:t})},get:function(){return this.$store.state.formsFeedbacksUrl.fields[this.index].value}},rules:function(){var e=this,t=[];return!0===this.field.is_required&&t.push((function(t){return f.REQUIRED(t)||e.$i18n.t("required_message")})),this.is_numberic?(this.field.max>0&&t.push((function(t){return f.MAX_NUMBER(t,e.field.max)||e.$i18n.t("maximum_value_message").replace("{value}",e.field.max)})),this.field.min>0&&t.push((function(t){return f.MIN_NUMBER(t,e.field.min)||e.$i18n.t("minimum_value_message").replace("{value}",e.field.min)}))):(this.field.max>0&&t.push((function(t){return f.MAX_CHARACTER(t,e.field.max)||e.$i18n.t("maximum_message").replace("{value}",e.field.max)})),this.field.min>0&&t.push((function(t){return f.MIN_CHARACTER(t,e.field.min)||e.$i18n.t("minimum_message").replace("{value}",e.field.min)}))),!0===this.field.is_email&&t.push((function(t){return f.EMAIL(t)||e.$i18n.t("must_be_email")})),t}}},C=F,I=(n("4793"),Object(p["a"])(C,g,A,!1,null,"be8cecc6",null)),R=I.exports;E()(I,"components",{QInput:h["a"]});var $=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ca_form_field-select q-mb-md"},[n("div",{staticClass:"ca_form_field-select-label"},[e._v("\n    "+e._s(e.field.label)+" :\n  ")]),n("q-select",{attrs:{square:"",options:e.field.options,outlined:"",dense:""},model:{value:e.fieldsValue,callback:function(t){e.fieldsValue=t},expression:"fieldsValue"}})],1)},k=[],y={name:"select-select",props:{field:{type:Object},index:{type:Number}},computed:{fieldsValue:{set:function(e){var t=this.index;this.$store.commit("formsFeedbacksUrl/setFieldsValue",{value:e,index:t})},get:function(){return this.$store.state.formsFeedbacksUrl.fields[this.index].value}},rules:function(){var e=this,t=[];return!0===this.field.is_required&&t.push((function(t){return f.REQUIRED(t)||e.$i18n.t("required_message")})),t}},mounted:function(){}},O=y,P=(n("468b"),n("ddd8")),M=Object(p["a"])(O,$,k,!1,null,"46c47028",null),T=M.exports;E()(M,"components",{QSelect:P["a"]});var S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ca_form_field-checkbox q-mb-md"},[n("div",{staticClass:"ca_form_field-checkbox-label"},[e._v("\n    "+e._s(e.field.label)+" :\n  ")]),e._l(e.field.options,(function(t){return n("span",{key:t},[n("q-checkbox",{attrs:{val:t,label:t},model:{value:e.fieldsValue,callback:function(t){e.fieldsValue=t},expression:"fieldsValue"}})],1)}))],2)},L=[],U={name:"checkbox-checkbox",props:{field:{type:Object},index:{type:Number}},computed:{fieldsValue:{set:function(e){var t=this.index;this.$store.commit("formsFeedbacksUrl/setFieldsValue",{value:e,index:t})},get:function(){return this.$store.state.formsFeedbacksUrl.fields[this.index].value}},rules:function(){var e=this,t=[];return!0===this.field.is_required&&t.push((function(t){return f.REQUIRED(t)||e.$i18n.t("required_message")})),t}}},G=U,N=(n("232a"),n("8f8e")),V=Object(p["a"])(G,S,L,!1,null,"2cc91892",null),q=V.exports;E()(V,"components",{QCheckbox:N["a"]});var D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ca_form_field-radiobox q-mb-md"},[n("div",{staticClass:"ca_form_field-radiobox-label"},[e._v("\n    "+e._s(e.field.label)+" :\n  ")]),e._l(e.field.options,(function(t){return n("span",{key:t},[n("q-radio",{attrs:{val:t,label:t},model:{value:e.fieldsValue,callback:function(t){e.fieldsValue=t},expression:"fieldsValue"}})],1)}))],2)},j=[],H={name:"radiobox-radiobox",props:{field:{type:Object},index:{type:Number}},computed:{fieldsValue:{set:function(e){var t=this.index;this.$store.commit("formsFeedbacksUrl/setFieldsValue",{value:e,index:t})},get:function(){return this.$store.state.formsFeedbacksUrl.fields[this.index].value}},rules:function(){var e=this,t=[];return!0===this.field.is_required&&t.push((function(t){return f.REQUIRED(t)||e.$i18n.t("required_message")})),t}},mounted:function(){}},Q=H,K=(n("3276"),n("3786")),B=Object(p["a"])(Q,D,j,!1,null,"157a901a",null),X=B.exports;E()(B,"components",{QRadio:K["a"]});var w=n("67e2"),Y={name:"main-fields-component",data:function(){return{FIELD_CATEGORIES_TYPE:w["a"]}},props:{field:{type:Object},index:{type:Number}},components:{textboxComponent:R,textareaComponent:x,selectComponent:T,checkboxComponent:q,radioboxComponent:X},mounted:function(){}},z=Y,J=Object(p["a"])(z,l,o,!1,null,null,null),Z=J.exports,W={SUBMIT_RESTRICTION_MESSAGE:"submitRestrictionMessage",FAILED_LOAD_FORM_MESSAGE:"failedLoadFormMessage"},ee=W,te={data:function(){return{fields:[],submitMessage:""}},methods:{setFeedbackFields:function(){var e=this,t=[];return this.fields.forEach((function(n){t.push({fields_key:n.key,name:n.name,label:n.label,value:e.setValue(n.value)})})),t},setValue:function(e){var t="";return t=Array.isArray(e)?JSON.stringify(e):e,t},sendform:function(){var e=this;this.$refs.formFeedback.validate().then((function(t){if(t){var n={key:e.managerKey,formFeedbackKey:e.formFeedbackKey,fields:JSON.stringify(e.setFeedbackFields())};e.$store.dispatch("formsFeedbacksUrl/submitFeedbackForm",n)}else e.submitMessage=e.$i18n.t(ee.SUBMIT_RESTRICTION_MESSAGE)}))}},components:{mainFieldsComponent:Z},computed:{feedbackLoadResponse:function(){var e=this.$store.state.formsFeedbacksUrl,t=e.result,n=e.codes,s=e.fields;return{result:t,codes:n,fields:s}},managerKey:function(){return this.$store.state.authState.managerKey},formFeedbackKey:function(){return this.$store.state.formsFeedbacksUrl.formFeedbackKey}},watch:{feedbackLoadResponse:function(e){var t=e.result,n=e.codes,s=e.fields;if(t&&0===n.length&&s){var i=e.fields;this.fields=i}}},mounted:function(){var e=this.$store.state.formsFeedbacksUrl.fields;this.fields=e}},ne=te,se=n("0378"),ie=n("9c40"),ae=Object(p["a"])(ne,a,r,!1,null,null,null),re=ae.exports;E()(ae,"components",{QForm:se["a"],QBtn:ie["a"]});var le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"__ca_form_finish-page-component",domProps:{innerHTML:e._s(e.message)}})},oe=[],ue={data:function(){return{contentValue:""}},props:{message:{type:String}}},ce=ue,de=Object(p["a"])(ce,le,oe,!1,null,null,null),fe=de.exports,me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"__ca_form_finish-page-component text-center text-h5"},[e._v(e._s(e.message))])},_e=[],pe={data:function(){return{contentValue:""}},props:{message:{type:String}}},he=pe,be=(n("f705"),Object(p["a"])(he,me,_e,!1,null,"e7c1c91e",null)),Ee=be.exports,ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"__ca_form_firstload-component text-center"},[n("q-spinner-facebook",{attrs:{color:"primary",size:"4em"}})],1)},xe=[],ge={name:"firstload-component"},Ae=ge,Fe=n("e669"),Ce=Object(p["a"])(Ae,ve,xe,!1,null,null,null),Ie=Ce.exports;E()(Ce,"components",{QSpinnerFacebook:Fe["a"]});var Re={FORM_PAGE:"FORM_PAGE",FIRST_PAGE:"FIRST_PAGE",FAILED_PAGE:"FAILED_PAGE",FINISH_PAGE:"FINISH_PAGE"},$e=Re,ke={name:"PageIndex",data:function(){return{loadPage:$e.FIRST_PAGE,LOAD_PAGE:$e,failedMessage:this.$i18n.t(ee.FAILED_LOAD_FORM_MESSAGE)}},components:{mainFormComponent:re,messageComponent:Ee,feedbackFinishMessage:fe,firstPageComponent:Ie},methods:{onInitChange:function(e){var t=e.detail.token;this.$store.dispatch("authState/auth",{token:t})}},mounted:function(){this.$casync.on(this.$casync.EVENT_TYPE.ON_INIT_CHANGE,this.onInitChange)},computed:{authResponse:function(){var e=this.$store.state.authState,t=e.result,n=e.codes,s=e.managerKey;return{result:t,codes:n,managerKey:s}},feedbackLoadResponse:function(){var e=this.$store.state.formsFeedbacksUrl,t=e.result,n=e.codes,s=e.isSubmit;return{result:t,codes:n,isSubmit:s}},finishPage:function(){return this.$store.state.formsFeedbacksUrl.finishPage}},watch:{authResponse:function(e){var t=e.result,n=e.codes;if(!t||n.length>0)this.loadPage=$e.FAILED_PAGE,this.$casync.pageLoadChange();else{var s=e.managerKey,i={managerKey:s,formKey:this.$casync.getFormKey(),url:this.$casync.getUrl(),parameters:JSON.stringify(this.$casync.getParameters())};this.$store.dispatch("formsFeedbacksUrl/getLoadForm",i)}},feedbackLoadResponse:function(e){var t=e.result,n=e.codes,s=e.isSubmit;!t||n.length>0?this.loadPage=$e.FAILED_PAGE:(this.loadPage=s?$e.FINISH_PAGE:$e.FORM_PAGE,this.$casync.pageLoadChange())}}},ye=ke,Oe=n("9989"),Pe=Object(p["a"])(ye,s,i,!1,null,null,null);t["default"]=Pe.exports;E()(Pe,"components",{QPage:Oe["a"]})},f705:function(e,t,n){"use strict";var s=n("23e5"),i=n.n(s);i.a}}]);