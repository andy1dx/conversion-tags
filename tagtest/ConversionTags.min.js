class ConversionTag{constructor(t){this.window=t,this.token="",this.url="",this.url_referral="",this.formKey="",this.parameters={},this.iframe={},this.iframeSource="http://localhost:8084/"}setToken(t){this.token=t}getToken(){return this.token}setUrl(t){this.url=t}getUrl(){return this.url}setFormKey(t){this.formKey=t}getFormKey(){return this.formKey}run(){this.setIframe(),this.window.onload=(()=>{this.sendEventToChild()}),this.bindEvent(window,"message",function(t){const{data:e}=t;var i=this.window.document.getElementById("the_iframe");"HEIGHT_CHANGE"===e.type&&(i.style.height=e.height+"px")})}setIframe(){var t=this.window.document.createElement("iframe");t.setAttribute("src",this.iframeSource),t.setAttribute("id","the_iframe"),t.style.width="100%",t.style.height="90px",t.style.border="none",this.iframe=t;var e=this.window.document.getElementById("__ca_conversion_analytics");e&&e.appendChild(t)}sendEventToChild(){var t={type:"CA_PARENT_EVENT_RUN_INIT",data:{token:this.token,url:this.window.location.href,url_referral:this.window.document.referrer,formKey:this.formKey,parameters:this.window.location.search.substring(1)}};this.iframe.contentWindow.postMessage(t,"*")}bindEvent(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)}}var conversionTag=new ConversionTag(window);